# 高频做市策略 15 天学习计划

## 学习目标

从零开始深入理解高频做市策略的核心原理，掌握订单簿微观结构、库存风险管理、信号构建和实盘准备等关键技能。

---

## 学习计划表

| 天数 | 核心目标 | 具体学习内容与任务 |
|------|----------|-------------------|
| Day 1 | 订单簿物理现实与微观结构基础 | 1. 阅读《Market Microstructure in Practice》Ch1-2（重点：限价单簿如何匹配、tick size、队列位置）<br>2. 用 ccxt 下载 Binance BTC/USDT 1 分钟 Level2 订单簿快照（深度 10 档），写代码实时重建订单簿，计算 mid price、microprice（加权 mid）、bid-ask spread<br>3. 计算并可视化日内 spread 分布、订单簿不平衡度（imbalance = (bid vol - ask vol)/(bid+ask vol)）<br><br>**目标**：彻底理解价格形成的原子单位是订单簿 |
| Day 2 | 库存风险与逆向选择的第一性认识 | 1. 推导做市商最基础的 P&L 分解：spread 收入 - 库存价格风险 - 逆向选择损失<br>2. 实现简单对称做市策略：在固定 spread（如 2*tick）下同时挂 bid/ask，每次成交后立即重新挂单<br>3. 用历史数据回测，统计库存分布、最大回撤、被逆向选择次数（成交后价格朝不利方向移动）<br><br>**目标**：亲眼看到不控制库存必然爆仓 |
| Day 3 | Avellaneda-Stoikov 经典模型（最重要单篇论文） | 1. 通读《High-frequency trading in a limit order book》（2008），手动推导最优报价公式<br>2. 实现 AS 模型：用历史波动率估计 σ，用固定 γ（风险厌恶）计算最优 skew 和 spread<br>3. 对比 Day2 的对称策略，回测 Sharpe 提升<br><br>**目标**：掌握从波动率和库存推导最优报价的第一性方法 |
| Day 4 | 订单流不平衡（OFI）与短期价格预测 | 1. 阅读《Order Flow Imbalance》相关论文，理解 OFI 如何领先价格<br>2. 计算 10 档 OFI 序列，回归预测未来 1-5 秒回报<br>3. 将 OFI 信号加入 AS 模型，动态调整 skew<br><br>**目标**：从订单簿原始变化直接提取可交易信号 |
| Day 5 | 多因子信号构建（做市版） | 1. 构建 5 个基础因子：<br>   - 短期 OFI<br>   - 订单簿不平衡<br>   - 近期 trade imbalance<br>   - 波动率（EWMA）<br>   - 成交量加权平均价格偏差（VWAP deviation）<br>2. 标准化后做线性组合，作为 AS 模型中的额外 skew 信号<br>3. 回测多因子版本 vs 纯 AS<br><br>**目标**：实现"信号+库存控制"的基本量化做市框架 |
| Day 6 | 库存控制与动态 γ 调整 | 1. 实现均值回归库存控制：当库存超过阈值时大幅 skew 报价甚至单边报价<br>2. 尝试动态 γ（根据近期 P&L 或波动率调整风险厌恶）<br>3. 对比不同库存控制策略的库存分布与收益<br><br>**目标**：解决库存失控的工程问题 |
| Day 7 | 价格冲击与大单拆分 | 1. 学习 Kyle 模型与最优执行基础，理解做市商自身下单也会吃掉流动性<br>2. 实现当库存超限时的主动市价单拆分（TWAP/VWAP/Implementation Shortfall）<br>3. 加入到策略中测试清库存成本<br><br>**目标**：闭环库存管理 |
| Day 8 | 机器学习预测订单流（LSTM/Transformer） | 1. 准备特征：过去 30 个订单簿快照的 10 档 bid/ask volume+price 差分、OFI、trade 方向等（序列化成 3D tensor）<br>2. 用 LSTM 预测未来 1-10 秒 mid price 方向或 OFI<br>3. 将 ML 预测概率作为额外 skew 信号加入策略<br><br>**目标**：用深度学习替代手工多因子 |
| Day 9 | 强化学习做市初步（PPO） | 1. 阅读《Deep Reinforcement Learning for Automated Stock Trading》与做市相关论文<br>2. 用 stable-baselines3 实现简单环境：状态=（库存，近期 OFI，spread），动作=（bid skew, ask skew），奖励=即时 P&L - γ*库存²<br>3. 训练并对比监督学习版本<br><br>**目标**：理解 RL 在做市中的潜力与当前局限 |
| Day 10 | 订单簿博弈：多做市商竞争 | 1. 阅读《Limit Order Books as Games》，理解队列位置竞争<br>2. 实现"抢队列"策略：在同价位用更小单子频繁取消重挂抢前端<br>3. 模拟两个策略互相博弈（用历史数据驱动），观察谁吃到更多 spread<br><br>**目标**：认识到做市是零和博弈，速度与取消率很重要 |
| Day 11 | 延迟套利与跨场所做市 | 1. 下载 Binance + OKX 同一交易对订单簿，计算跨所 mid price 差<br>2. 实现跨场所做市：在一个所用宽 spread 吃跨所差，在另一个所对冲<br>3. 加入延迟惩罚与滑点估计<br><br>**目标**：从多场所价差赚取无风险 spread |
| Day 12 | 高频特征工程与特征重要性 | 1. 构建 50+ 高频因子（包括跨档 volume ratio、订单取消率、hidden liquidity 估计等）<br>2. 用 LightGBM 对未来价格方向做特征重要性排序<br>3. 精简到 Top10 因子，替换 Day5 的多因子<br><br>**目标**：系统化信号挖掘 |
| Day 13 | 完整策略回测框架搭建 | 1. 搭建事件驱动回测引擎（自己写或用 nautilus_trader/backtrader），支持：<br>   - Level2 订单簿重放<br>   - 延迟模拟<br>   - 手续费/maker rebate<br>   - 队列位置模拟<br>2. 将 Day3-12 的最佳组件组合成最终策略回测<br><br>**目标**：拥有接近生产级的回测系统 |
| Day 14 | 风险管理与容量分析 | 1. 计算策略最大容量（随资金增大 Sharpe 下降点）<br>2. 加入 VaR、最大回撤、库存限额、波动率缩放等风控<br>3. 压力测试（极端波动日、闪崩数据）<br><br>**目标**：让策略能活下来 |
| Day 15 | 实盘准备与总结 | 1. 选择 1-2 个低风险交易对（BTC/ETH 永续），用小资金（<1%本金）上实盘观察 1 周<br>2. 写 500 字总结：你认为做市最核心的三件事是什么？当前策略最大风险在哪里？<br>3. 规划下一步（接入更低延迟、更多特征、更好 ML 模型）<br><br>**目标**：从"接近专家"迈向"真正专家" |

---

## 学习建议

1. **每天投入时间**：建议每天 4-6 小时，理论与实践结合
2. **代码先行**：每个概念都要用代码实现，不要停留在纸面理解
3. **记录笔记**：建立自己的"做市知识库"，记录每天的关键洞察
4. **复盘总结**：每 3-5 天回顾一次，确保前面的知识扎实掌握

## 前置知识要求

- Python 编程基础（numpy、pandas、asyncio）
- 基础概率统计与随机过程
- 金融市场基础概念（限价单、市价单、订单簿结构）
- 基础机器学习知识（可选，Day 8-9 需要）
